var pt=a=>{throw TypeError(a)};var ot=(a,t,e)=>t.has(a)||pt("Cannot "+e);var f=(a,t,e)=>(ot(a,t,"read from private field"),e?e.call(a):t.get(a)),T=(a,t,e)=>t.has(a)?pt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(a):t.set(a,e),C=(a,t,e,s)=>(ot(a,t,"write to private field"),s?s.call(a,e):t.set(a,e),e),$=(a,t,e)=>(ot(a,t,"access private method"),e);import{s as K,e as S,t as H,d as b,f as V,h as U,i as d,r as w,k as N,l as v,m as et,n as B,p as L,o as yt,Q as j,v as ct,R as kt,b as R,w as st,S as Mt,j as F,q as vt,C as Bt,T as Vt}from"../chunks/scheduler.C8vMPaWB.js";import{S as Q,i as Y,b as lt,d as nt,m as rt,t as D,g as Ct,c as At,a as k,e as at}from"../chunks/index.DjUm7gUX.js";/* empty css                        */import{a as G,s as W,r as X}from"../chunks/store.Cgq6CM5L.js";import{g as Ot}from"../chunks/entry.PmCYaWki.js";function it(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function Pt(a){let t,e,s,l=String(a[1]).padStart(2,"0")+"",i,n,r=String(a[0]).padStart(2,"0")+"",c;return{c(){t=S("div"),e=S("div"),s=S("span"),i=H(l),n=H(":"),c=H(r),this.h()},l(o){t=b(o,"DIV",{class:!0});var h=V(t);e=b(h,"DIV",{class:!0});var p=V(e);s=b(p,"SPAN",{class:!0});var u=V(s);i=U(u,l),n=U(u,":"),c=U(u,r),u.forEach(d),p.forEach(d),h.forEach(d),this.h()},h(){w(s,"class","text-size svelte-y70idt"),w(e,"class","container svelte-y70idt"),w(t,"class","spacer svelte-y70idt")},m(o,h){N(o,t,h),v(t,e),v(e,s),v(s,i),v(s,n),v(s,c)},p(o,[h]){h&2&&l!==(l=String(o[1]).padStart(2,"0")+"")&&et(i,l),h&1&&r!==(r=String(o[0]).padStart(2,"0")+"")&&et(c,r)},i:B,o:B,d(o){o&&d(t)}}}function zt(a,t,e){let s,l,i;return L(a,G,n=>e(0,s=n)),L(a,W,n=>e(1,l=n)),L(a,X,n=>e(2,i=n)),yt(()=>{j(W,l=0,l),j(G,s=0,s);let n=setInterval(()=>{j(G,s++,s),s==60&&(j(G,s=0,s),j(W,l++,l))},1e3);return()=>{clearInterval(n)}}),a.$$.update=()=>{a.$$.dirty&4&&i==!0&&(j(W,l=0,l),j(G,s=0,s))},[s,l,i]}class Gt extends Q{constructor(t){super(),Y(this,t,zt,Pt,K,{})}}const Ht="fix",_t="change";var x,M,P,q;class ut{constructor(t,e,s){T(this,x,0);T(this,M,0);T(this,P,2);T(this,q,_t);C(this,P,s),C(this,x,t),C(this,M,e)}get row(){return f(this,M)}set row(t){C(this,x,t)}get col(){return f(this,M)}set col(t){C(this,M,t)}get value(){return f(this,P)}set value(t){C(this,P,t)}get status(){return f(this,q)}set status(t){C(this,q,t)}static get STATUS_FIX(){return Ht}static get STATUS_CHANGE(){return _t}}x=new WeakMap,M=new WeakMap,P=new WeakMap,q=new WeakMap;function Ut(a){let t,e,s=(a[0].value==2?"":a[0].value)+"",l,i,n;return{c(){t=S("div"),e=S("span"),l=H(s),this.h()},l(r){t=b(r,"DIV",{class:!0});var c=V(t);e=b(c,"SPAN",{class:!0});var o=V(e);l=U(o,s),o.forEach(d),c.forEach(d),this.h()},h(){w(e,"class","svelte-76p5uh"),w(t,"class","cell text-size svelte-76p5uh")},m(r,c){N(r,t,c),v(t,e),v(e,l),i||(n=ct(t,"click",a[1]),i=!0)},p(r,[c]){c&1&&s!==(s=(r[0].value==2?"":r[0].value)+"")&&et(l,s)},i:B,o:B,d(r){r&&d(t),i=!1,n()}}}function Lt(a,t,e){let{cell:s}=t,l=kt();const i=()=>{s.status!=ut.STATUS_FIX&&(e(0,s.value=e(0,++s.value,s)%2,s),l("change"))};return a.$$set=n=>{"cell"in n&&e(0,s=n.cell)},[s,i]}class Rt extends Q{constructor(t){super(),Y(this,t,Lt,Ut,K,{cell:0})}}function gt(a){let t,e,s=a[0]?"thumb_up":"thumb_down",l,i;return{c(){t=S("div"),e=S("span"),l=H(s),this.h()},l(n){t=b(n,"DIV",{class:!0});var r=V(t);e=b(r,"SPAN",{class:!0});var c=V(e);l=U(c,s),c.forEach(d),r.forEach(d),this.h()},h(){w(e,"class",i="material-symbols-outlined icon "+(a[0]?"valid":"invalid")+" svelte-1e0jnj"),w(t,"class","popup svelte-1e0jnj")},m(n,r){N(n,t,r),v(t,e),v(e,l)},p(n,r){r&1&&s!==(s=n[0]?"thumb_up":"thumb_down")&&et(l,s),r&1&&i!==(i="material-symbols-outlined icon "+(n[0]?"valid":"invalid")+" svelte-1e0jnj")&&w(e,"class",i)},d(n){n&&d(t)}}}function Ft(a){let t,e,s,l,i,n="check",r,c,o,h="restart_alt",p,u,O,ft,g=a[1]&&gt(a);return{c(){t=S("link"),e=R(),s=S("div"),l=S("div"),i=S("span"),i.textContent=n,r=R(),c=S("div"),o=S("span"),o.textContent=h,p=R(),g&&g.c(),u=st(),this.h()},l(_){const E=Mt("svelte-1ruei9s",document.head);t=b(E,"LINK",{rel:!0,href:!0}),E.forEach(d),e=F(_),s=b(_,"DIV",{class:!0});var J=V(s);l=b(J,"DIV",{});var dt=V(l);i=b(dt,"SPAN",{class:!0,"data-svelte-h":!0}),vt(i)!=="svelte-5141f9"&&(i.textContent=n),dt.forEach(d),r=F(J),c=b(J,"DIV",{});var mt=V(c);o=b(mt,"SPAN",{class:!0,"data-svelte-h":!0}),vt(o)!=="svelte-17g0g33"&&(o.textContent=h),mt.forEach(d),J.forEach(d),p=F(_),g&&g.l(_),u=st(),this.h()},h(){w(t,"rel","stylesheet"),w(t,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"),w(i,"class","material-symbols-outlined icon svelte-1e0jnj"),w(o,"class","material-symbols-outlined icon svelte-1e0jnj"),w(s,"class","wrapper svelte-1e0jnj")},m(_,E){v(document.head,t),N(_,e,E),N(_,s,E),v(s,l),v(l,i),v(s,r),v(s,c),v(c,o),N(_,p,E),g&&g.m(_,E),N(_,u,E),O||(ft=[ct(i,"click",a[3]),ct(o,"click",a[5])],O=!0)},p(_,[E]){_[1]?g?g.p(_,E):(g=gt(_),g.c(),g.m(u.parentNode,u)):g&&(g.d(1),g=null)},i:B,o:B,d(_){_&&(d(e),d(s),d(p),d(u)),d(t),g&&g.d(_),O=!1,Bt(ft)}}}const Xt=2e3;function xt(a,t,e){let s;L(a,X,o=>e(2,s=o));let{board:l=null}=t,i=!1,n=!1;const r=()=>{e(0,i=l.isValidSolution()),e(1,n=!0),setTimeout(()=>{e(1,n=!1)},Xt)},c=()=>{j(X,s=!1,s),j(X,s=!0,s)};return a.$$set=o=>{"board"in o&&e(4,l=o.board)},[i,n,s,r,l,c]}class qt extends Q{constructor(t){super(),Y(this,t,xt,Ft,K,{board:4})}}const Kt=8,Qt=15;var A,z,I,y,m,Et,Tt,Nt,Z,Dt,jt,ht,tt;class St{constructor(t){T(this,m);T(this,A,[]);T(this,z,0);T(this,I,0);T(this,y,[]);C(this,z,t),C(this,I,t),C(this,A,[...Array(t)].map((e,s)=>[...Array(t)].map((l,i)=>new ut(s,i,2)))),C(this,y,$(this,m,Tt).call(this)),console.log("BOARD:",f(this,A)),console.log("SOLUTION:",f(this,y)),$(this,m,Nt).call(this,f(this,y))}isGameOver(){return f(this,A).flat(1).filter(t=>t.value!=2).length==f(this,I)**2?this.isValidBoard(f(this,A)):!1}isValidBoard(t){t==null&&(t=f(this,A));let e=!0,s=!0;for(let l of t)e&&(e=$(this,m,tt).call(this,l));for(let l=0;l<f(this,I);l++)s&&(s=$(this,m,tt).call(this,t.map(i=>i[l])));return e&&s}isValidSolution(){for(let[t,e]of f(this,y).entries())for(let[s,l]of e.entries()){let i=this.getCell(t,s).value;if(i!=2&&f(this,y)[t][s]!=i)return!1}return!0}get rows(){return f(this,z)}get cols(){return f(this,I)}getCell(t,e){return t>=0&&t<f(this,z)&&e>=0&&e<f(this,I)?f(this,A)[t][e]:null}}A=new WeakMap,z=new WeakMap,I=new WeakMap,y=new WeakMap,m=new WeakSet,Et=function(t,e){const s=[];function l(i,n){if(i.length===e){s.push([...i]);return}for(let r=0;r<n.length;r++){const c=[...i,n[r]],o=n.slice(0,r).concat(n.slice(r+1));l(c,o)}}return l([],t),s},Tt=function(){let t=[];for(let l=0;l<2**f(this,I);l++){let n=l.toString(2).padStart(f(this,I),"0").split("").map(Number);$(this,m,tt).call(this,n)&&t.push(n)}let e=$(this,m,Et).call(this,t,f(this,I)),s=[];for(let l of e)this.isValidBoard(l)&&s.push(l);return s[$(this,m,Z).call(this,s.length)]},Nt=function(t){let e=new Set,s=$(this,m,Dt).call(this,Kt,Qt);for(console.log("max HINTS:",s);e.size<s;){let l=$(this,m,Z).call(this,f(this,I)),i=$(this,m,Z).call(this,f(this,I));e.add(`${l}-${i}`)}e.forEach(l=>{let i=+l.split("-")[0],n=+l.split("-")[1];f(this,A)[i][n].value=t[i][n],f(this,A)[i][n].status=ut.STATUS_FIX})},Z=function(t){return Math.floor(Math.random()*t*100/100)},Dt=function(t,e){return Math.floor(Math.random()*(e-t)+t)},jt=function(t){for(let e=0;e<=t.length/2;e++)if(typeof t[0]!="number"){if(t[e].value!=2&&t[e].value==t[e+1].value&&t[e+1].value==t[e+2].value)return!0}else if(t[e]!=2&&t[e]==t[e+1]&&t[e+1]==t[e+2])return!0;return!1},ht=function(t,e){return t.filter(s=>typeof t[0]!="number"?s.value==e:s==e).length>f(this,I)/2},tt=function(t){return!($(this,m,jt).call(this,t)==!0||$(this,m,ht).call(this,t,0)==!0||$(this,m,ht).call(this,t,1)==!0)};function bt(a,t,e){const s=a.slice();return s[3]=t[e],s[5]=e,s}function wt(a,t,e){const s=a.slice();return s[3]=t[e],s[7]=e,s}function $t(a){let t,e;return t=new Rt({props:{cell:a[0].getCell(a[5],a[7])}}),t.$on("change",a[1]),{c(){lt(t.$$.fragment)},l(s){nt(t.$$.fragment,s)},m(s,l){rt(t,s,l),e=!0},p(s,l){const i={};l&1&&(i.cell=s[0].getCell(s[5],s[7])),t.$set(i)},i(s){e||(D(t.$$.fragment,s),e=!0)},o(s){k(t.$$.fragment,s),e=!1},d(s){at(t,s)}}}function It(a){let t,e,s=it({length:a[0].cols}),l=[];for(let n=0;n<s.length;n+=1)l[n]=$t(wt(a,s,n));const i=n=>k(l[n],1,1,()=>{l[n]=null});return{c(){for(let n=0;n<l.length;n+=1)l[n].c();t=st()},l(n){for(let r=0;r<l.length;r+=1)l[r].l(n);t=st()},m(n,r){for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(n,r);N(n,t,r),e=!0},p(n,r){if(r&3){s=it({length:n[0].cols});let c;for(c=0;c<s.length;c+=1){const o=wt(n,s,c);l[c]?(l[c].p(o,r),D(l[c],1)):(l[c]=$t(o),l[c].c(),D(l[c],1),l[c].m(t.parentNode,t))}for(Ct(),c=s.length;c<l.length;c+=1)i(c);At()}},i(n){if(!e){for(let r=0;r<s.length;r+=1)D(l[r]);e=!0}},o(n){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)k(l[r]);e=!1},d(n){n&&d(t),Vt(l,n)}}}function Yt(a){let t,e,s,l,i,n=it({length:a[0].rows}),r=[];for(let o=0;o<n.length;o+=1)r[o]=It(bt(a,n,o));const c=o=>k(r[o],1,1,()=>{r[o]=null});return l=new qt({props:{board:a[0]}}),{c(){t=S("div"),e=S("div");for(let o=0;o<r.length;o+=1)r[o].c();s=R(),lt(l.$$.fragment),this.h()},l(o){t=b(o,"DIV",{class:!0});var h=V(t);e=b(h,"DIV",{class:!0});var p=V(e);for(let u=0;u<r.length;u+=1)r[u].l(p);p.forEach(d),s=F(h),nt(l.$$.fragment,h),h.forEach(d),this.h()},h(){w(e,"class","board board-size svelte-bb3mzh"),w(t,"class","wrapper svelte-bb3mzh")},m(o,h){N(o,t,h),v(t,e);for(let p=0;p<r.length;p+=1)r[p]&&r[p].m(e,null);v(t,s),rt(l,t,null),i=!0},p(o,[h]){if(h&3){n=it({length:o[0].rows});let u;for(u=0;u<n.length;u+=1){const O=bt(o,n,u);r[u]?(r[u].p(O,h),D(r[u],1)):(r[u]=It(O),r[u].c(),D(r[u],1),r[u].m(e,null))}for(Ct(),u=n.length;u<r.length;u+=1)c(u);At()}const p={};h&1&&(p.board=o[0]),l.$set(p)},i(o){if(!i){for(let h=0;h<n.length;h+=1)D(r[h]);D(l.$$.fragment,o),i=!0}},o(o){r=r.filter(Boolean);for(let h=0;h<r.length;h+=1)k(r[h]);k(l.$$.fragment,o),i=!1},d(o){o&&d(t),Vt(r,o),at(l)}}}function Jt(a,t,e){let s;L(a,X,n=>e(2,s=n));let l=new St(6);const i=()=>{l.isGameOver()==!0&&Ot("/score")};return a.$$.update=()=>{a.$$.dirty&4&&s==!0&&e(0,l=new St(6))},[l,i,s]}class Wt extends Q{constructor(t){super(),Y(this,t,Jt,Yt,K,{})}}function Zt(a){let t,e,s,l,i;return e=new Gt({}),l=new Wt({}),{c(){t=S("div"),lt(e.$$.fragment),s=R(),lt(l.$$.fragment),this.h()},l(n){t=b(n,"DIV",{class:!0});var r=V(t);nt(e.$$.fragment,r),s=F(r),nt(l.$$.fragment,r),r.forEach(d),this.h()},h(){w(t,"class","wrapper animate__animated animate__rotateIn svelte-rqwd8l")},m(n,r){N(n,t,r),rt(e,t,null),v(t,s),rt(l,t,null),i=!0},p:B,i(n){i||(D(e.$$.fragment,n),D(l.$$.fragment,n),i=!0)},o(n){k(e.$$.fragment,n),k(l.$$.fragment,n),i=!1},d(n){n&&d(t),at(e),at(l)}}}class ae extends Q{constructor(t){super(),Y(this,t,null,Zt,K,{})}}export{ae as component};
